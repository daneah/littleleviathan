language: python
dist: precise
cache: pip
python:
  - "3.4"
  - "3.5"
script:
  - coverage run --source='.' manage.py test --noinput && coverage report
before_install:
  - rvm install 2.0.0
install:
  - pip install -r dev-requirements.txt
before_script:
  - gem install sass
  - mysql -e 'create database littleleviathan;'
  - python manage.py migrate
  - npm install
  - sass assets/css/site.scss assets/css/site.css
  - python manage.py collectstatic --noinput --ignore *.sass
